<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>map方法的实现</title>
</head>
<body>
	<script>
		// map() 方法将调用的数组的每个元素传递给指定的函数，并返回一个新数组，它包含该函数的返回值。
		Array.prototype.map = function(callback, thisArg) {
			var arr = [], length = this.length, thisArg = thisArg || undefined

			if (Object.prototype.toString.call(callback) != "[object Function]") {
	      throw new TypeError(callback + " is not a function");
	    }

			for(let i=0; i<length; i++) {
				if(this[i]) {
					arr.push(callback.call(thisArg, this[i], i, this))
				} else {
					arr.push(undefined)
				}
			}
			return arr
		}

		var arr = [1, , 3]
		console.log(arr.map(function(value) {
			return value*2;
		}))
	</script>
</body>
</html>